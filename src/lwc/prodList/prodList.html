<template>
    <div style="background-color: white; padding: 20px;">
        <h1 style="background-color: lightgray; padding: 10px; text-align: center; margin-bottom: 10px;">
            <strong>Products</strong>
        </h1>

        <template if:true={products}>
            <template for:each={products} for:item="product">
                <div key={product.Name} style="border: 1px solid #ccc; padding: 10px; margin-bottom: 10px; display: flex; justify-content: space-between; align-items: center;">
                    <p>{product.Name}</p>
                    <p>{product.Description__c}</p>
                    <div>

                        <lightning-button variant="brand"
                                          label="Details"
                                          title="Details"
                                          onclick={openModal1}
                                          data-id={product.Name}
                                          class="slds-m-left_x-small">
                        </lightning-button>
                        <lightning-button variant="brand"
                                          label="Add"
                                          title="Add"
                                          onclick={openModal2}
                                          class="slds-m-left_x-small">
                        </lightning-button>
                    </div>
                </div>
            </template>
        </template>
        <template if:false={products}>
            <p>No products found.</p>
        </template>

        <template if:true={isModalOpen1}>

            <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
                <div class="slds-modal__container">

                    <header class="slds-modal__header">
                        <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={closeModal1}>
                            <lightning-icon icon-name="utility:close"
                                            alternative-text="close"
                                            variant="inverse"
                                            size="small" ></lightning-icon>
                            <span class="slds-assistive-text">Close</span>
                        </button>
                        <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Modal/PopUp Box 1 header LWC</h2>
                    </header>

                    <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                        <p>{selectedProduct.Image__c}</p>
                        <p><b>{selectedProduct.Name}</b></p>
                        <p>{selectedProduct.Description__c}</p>
                        <p>{selectedProduct.Type__c}</p>
                        <p>{selectedProduct.Family__c}</p>
                        <p>{selectedProduct.Price__c}</p>
                    </div>

                    <footer class="slds-modal__footer">
                        <button class="slds-button slds-button_brand" onclick={submitDetails1} title="OK">OK</button>
                    </footer>
                </div>
            </section>
            <div class="slds-backdrop slds-backdrop_open"></div>
        </template>

        <template if:true={isModalOpen2}>

            <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-02" aria-modal="true" aria-describedby="modal-content-id-2" class="slds-modal slds-fade-in-open">
                <div class="slds-modal__container">

                    <header class="slds-modal__header">
                        <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={closeModal2}>
                            <lightning-icon icon-name="utility:close"
                                            alternative-text="close"
                                            variant="inverse"
                                            size="small" ></lightning-icon>
                            <span class="slds-assistive-text">Close</span>
                        </button>
                        <h2 id="modal-heading-02" class="slds-text-heading_medium slds-hyphenate">Modal/PopUp Box 2 header LWC</h2>
                    </header>

                    <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-2">
                        <p><b>Modal/Popup Box 2 content.</b></p>
                    </div>

                    <footer class="slds-modal__footer">
                        <button class="slds-button slds-button_brand" onclick={submitDetails2} title="OK">OK</button>
                    </footer>
                </div>
            </section>
            <div class="slds-backdrop slds-backdrop_open"></div>
        </template>
    </div>
</template>
